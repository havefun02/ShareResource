@model ShareResource.Models.ViewModels.PaginationViewModel

<div class="pagination">
    @if (Model != null)
    {
        <button id="prevPage" class="unchanged-btn" @(Model.currentPage == 1 ? "disabled" : "")>Previous</button>
        <span id="pageNumbers">
            @for (int i = 1; i <= (int)Math.Ceiling((decimal)Model.totalItems / Model.limit); i++)
            {
                <button  class="page-btn @(i == Model.currentPage ? "current-page" : "")" data-page="@i" >
                    @i
                </button>
            }
        </span>
        <button id="nextPage" class="unchanged-btn" @(Model.currentPage == Math.Ceiling((decimal)Model.totalItems / Model.limit + 1) ? "disabled" : "")>Next</button>
   }
</div>
<script>
    document.querySelectorAll('.page-btn').forEach(button => {
        button.addEventListener('click', function () {
            const page = this.getAttribute('data-page');
            window.location.href = '@Url.Action("GetUserResource", "Resource")?page=' + page;
        });
    });

    document.querySelectorAll('#prevPage, #nextPage').forEach(button => {
        button.addEventListener('click', function () {
            const page = this.getAttribute('data-page');
            window.location.href = '@Url.Action("GetUserResource", "Resource")?page=' + page;
        });
    });
</script>


